{% doc %}
  @prompt
    Create a responsive tags section for blog posts that displays only the tags assigned to the current post as clickable links. Use semantic HTML with proper article tag structure, include JSON-LD structured data for SEO, optimize for desktop and mobile with clean styling and hover effects, and ensure tags are filtered to show only those related to the specific blog post being viewed.

{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-blog-tags-section-{{ ai_gen_id }} {
    margin: {{ block.settings.section_margin }}px 0;
    padding: {{ block.settings.section_padding }}px;
    background-color: {{ block.settings.background_color }};
    border-radius: {{ block.settings.border_radius }}px;
  }

  .ai-blog-tags-header-{{ ai_gen_id }} {
    margin:0 0 {{ block.settings.header_spacing }}px 0;
    color: {{ block.settings.header_color }};
    font-size: {{ block.settings.header_size }}px;
    font-weight: {{ block.settings.header_weight }};}

  .ai-blog-tags-list-{{ ai_gen_id }} {
    display: flex;
    flex-wrap: wrap;
    gap: {{ block.settings.tag_spacing }}px;
    margin: 0;
    padding: 0;
    list-style: none;
  }

  .ai-blog-tags-item-{{ ai_gen_id }} {
    margin: 0;}

  .ai-blog-tags-link-{{ ai_gen_id }} {
    display: inline-block;
    padding: {{ block.settings.tag_padding_vertical }}px {{ block.settings.tag_padding_horizontal }}px;
    background-color: {{ block.settings.tag_background }};
    color: {{ block.settings.tag_text_color }};
    text-decoration: none;
    border-radius: {{ block.settings.tag_border_radius }}px;
    border: {{ block.settings.tag_border_width }}px solid {{ block.settings.tag_border_color }};
    font-size: {{ block.settings.tag_font_size }}px;
    font-weight: {{ block.settings.tag_font_weight }};
    transition: all 0.3s ease;line-height: 1.4;
  }

  .ai-blog-tags-link-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.tag_hover_background }};
    color: {{ block.settings.tag_hover_text_color }};
    border-color: {{ block.settings.tag_hover_border_color }};
    transform: translateY(-1px);
  }

  .ai-blog-tags-link-{{ ai_gen_id }}:focus {
    outline:2px solid {{ block.settings.tag_text_color }};
    outline-offset: 2px;
  }

  .ai-blog-tags-empty-{{ ai_gen_id }} {
    color: {{ block.settings.empty_text_color }};
    font-style: italic;
    font-size: {{ block.settings.tag_font_size }}px;
  }

  @media screen and (max-width: 749px) {
    .ai-blog-tags-section-{{ ai_gen_id }} {
      margin: {{ block.settings.section_margin | times: 0.7 }}px 0;padding: {{ block.settings.section_padding | times: 0.8 }}px;
    }

    .ai-blog-tags-header-{{ ai_gen_id }} {
      font-size: {{ block.settings.header_size | times: 0.9 }}px;
      margin-bottom: {{ block.settings.header_spacing | times: 0.8 }}px;
    }

    .ai-blog-tags-list-{{ ai_gen_id }} {
      gap: {{ block.settings.tag_spacing | times: 0.8 }}px;
    }

    .ai-blog-tags-link-{{ ai_gen_id }} {
      padding: {{ block.settings.tag_padding_vertical | times: 0.8 }}px {{ block.settings.tag_padding_horizontal | times: 0.9 }}px;
      font-size: {{ block.settings.tag_font_size | times: 0.9 }}px;
    }
  }
{% endstyle %}<article class="ai-blog-tags-section-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  {% if block.settings.show_header and block.settings.header_text != blank %}
    <h3 class="ai-blog-tags-header-{{ ai_gen_id }}">{{ block.settings.header_text }}</h3>
  {% endif %}

  {% if article and article.tags.size > 0 %}
    <ul class="ai-blog-tags-list-{{ ai_gen_id }}" role="list">
      {% for tag in article.tags %}
        <li class="ai-blog-tags-item-{{ ai_gen_id }}">
          <a 
            href="{{ blog.url }}/tagged/{{ tag | handle }}" 
            class="ai-blog-tags-link-{{ ai_gen_id }}"
            rel="tag"
            aria-label="View all posts tagged with {{ tag }}"
          >
            {% if block.settings.show_hash %}#{% endif %}{{ tag }}</a>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    {% if block.settings.show_empty_message %}
      <p class="ai-blog-tags-empty-{{ ai_gen_id }}">{{ block.settings.empty_message }}</p>
    {% endif %}
  {% endif %}
</article>

{% if article and article.tags.size > 0 %}
  <script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": {{ article.title | json }},
    "url": {{ shop.url | append: article.url | json }},
    "datePublished": {{ article.published_at | date: '%Y-%m-%dT%H:%M:%S%z' | json }},
    "dateModified": {{ article.updated_at | date: '%Y-%m-%dT%H:%M:%S%z' | json }},
    "author": {
      "@type": "Person",
      "name": {{ article.author | json }}
    },
    "publisher": {
      "@type": "Organization",
      "name": {{ shop.name | json }},
      "url": {{ shop.url | json }}
    },
    "keywords": {{ article.tags | join: ', ' | json }},
    "articleSection": {{ blog.title | json }},
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": {{ shop.url | append: article.url | json }}
    }
  }
  </script>
{% endif %}

{% schema %}
{
  "name": "Blog Post Tags",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "checkbox",
      "id": "show_header",
      "label": "Show header",
      "default": true
    },
    {
      "type": "text",
      "id": "header_text",
      "label": "Header text",
      "default": "Tags"
    },
    {
      "type": "checkbox",
      "id": "show_hash",
      "label": "Show # symbol before tags",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "show_empty_message",
      "label": "Show message when no tags",
      "default": true
    },
    {
      "type": "text",
      "id": "empty_message",
      "label": "Empty message",
      "default": "No tags available"
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "section_margin",
      "min": 0,
      "max": 60,
      "step": 4,
      "unit": "px",
      "label": "Section margin",
      "default": 24
    },
    {
      "type": "range",
      "id": "section_padding",
      "min": 0,
      "max": 40,
      "step": 4,
      "unit": "px",
      "label": "Section padding",
      "default": 16
    },
    {
      "type": "range",
      "id": "header_spacing",
      "min": 8,
      "max": 32,
      "step": 2,
      "unit": "px",
      "label": "Header bottom spacing",
      "default": 16
    },
    {
      "type": "range",
      "id": "tag_spacing",
      "min": 4,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Tag spacing",
      "default": 8
    },
    {
      "type": "range",
      "id": "border_radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Section border radius",
      "default": 8
    },
    {
      "type": "header",
      "content": "Header Style"
    },
    {
      "type": "color",
      "id": "header_color",
      "label": "Header text color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "header_size",
      "min": 14,
      "max": 32,
      "step": 2,
      "unit": "px",
      "label": "Header font size",
      "default": 20
    },
    {
      "type": "select",
      "id": "header_weight",
      "label": "Header font weight",
      "options": [
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi-bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "600"
    },
    {
      "type": "header",
      "content": "Tag Style"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Section background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "tag_background",
      "label": "Tag background",
      "default": "#f5f5f5"
    },
    {
      "type": "color",
      "id": "tag_text_color",
      "label": "Tag text color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "tag_border_color",
      "label": "Tag border color",
      "default": "#e6e6e6"
    },
    {
      "type": "range",
      "id": "tag_border_width",
      "min": 0,
      "max": 3,
      "step": 1,
      "unit": "px",
      "label": "Tag border width",
      "default": 1
    },
    {
      "type": "range",
      "id": "tag_border_radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Tag border radius",
      "default": 16
    },
    {
      "type": "range",
      "id": "tag_padding_vertical",
      "min": 4,
      "max": 16,
      "step": 2,
      "unit": "px",
      "label": "Tag vertical padding",
      "default": 6
    },
    {
      "type": "range",
      "id": "tag_padding_horizontal",
      "min": 8,
      "max": 24,
      "step": 2,
      "unit": "px",
      "label": "Tag horizontal padding",
      "default": 12
    },
    {
      "type": "range",
      "id": "tag_font_size",
      "min": 12,
      "max": 18,
      "step": 1,
      "unit": "px",
      "label": "Tag font size",
      "default": 14
    },
    {
      "type": "select",
      "id": "tag_font_weight",
      "label": "Tag font weight",
      "options": [
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi-bold"
        }
      ],
      "default": "400"
    },
    {
      "type": "header",
      "content": "Hover Effects"
    },
    {
      "type": "color",
      "id": "tag_hover_background",
      "label": "Tag hover background",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "tag_hover_text_color",
      "label": "Tag hover text color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "tag_hover_border_color",
      "label": "Tag hover border color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "empty_text_color",
      "label": "Empty message color",
      "default": "#666666"
    }
  ],
  "presets": [
    {
      "name": "Blog Post Tags"
    }
  ]
}
{% endschema %}