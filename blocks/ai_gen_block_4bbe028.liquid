{% doc %}
  @prompt
    Create a trust badges section for Shopify that displays common trust badges (Secure Checkout, Free Shipping, Money Back Guarantee, Customer Support) with the following features:
    
    - Must stay within theme's main content width using .page-width or equivalent container
    - Carousel functionality with separate enable/disable options for mobile and desktop
    - Navigation arrows that can be toggled on/off for both mobile and desktop
    - Responsive design optimized for mobile and desktop
    - Customization settings including:
      * Top and bottom padding controls
      * Full-width or content-width display option (default to content-width)
      * Mobile layout selection (1 or 2 columns)
      * Desktop column selection (1-4 columns)
      * Adjustable spacing between badges
      * Section height settings
      * Background customization (color, gradient, or image)
    - Performance optimized with SVG icons and fast loading
    - Accessibility features with alt text and ARIA labels
    - Mobile-friendly and SEO-friendly design
    - Lightweight code with small file size

{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-trust-badges-{{ ai_gen_id }} {
    background-color: {{ block.settings.background_color }};
    {% if block.settings.background_image %}
      background-image: url('{{ block.settings.background_image | image_url: width: 1920}}');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    {% endif %}
    padding-top: {{ block.settings.padding_top }}px;
    padding-bottom: {{ block.settings.padding_bottom }}px;
    min-height: {{ block.settings.section_height }}px;
    display: flex;
    align-items: center;
  }

  .ai-trust-badges-container-{{ ai_gen_id }} {
    {% if block.settings.full_width %}
      width: 100%;max-width: none;
      padding-left: 20px;
      padding-right: 20px;
    {% else %}
      width:100%;
      max-width: 1200px;
      margin: 0 auto;
      padding-left: 20px;
      padding-right: 20px;
    {% endif %}
  }

  .ai-trust-badges-wrapper-{{ ai_gen_id }} {
    position: relative;
    overflow: hidden;
  }

  .ai-trust-badges-grid-{{ ai_gen_id }} {
    display: grid;
    gap: {{ block.settings.badge_spacing }}px;
    grid-template-columns: repeat({{ block.settings.columns_mobile }}, 1fr);
    transition: transform 0.3s ease;
  }

  .ai-trust-badge-item-{{ ai_gen_id }} {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 20px;
    background-color: {{ block.settings.badge_background_color }};
    border-radius: {{ block.settings.badge_border_radius }}px;
    border: {{ block.settings.badge_border_width }}px solid {{ block.settings.badge_border_color }};
    transition: transform 0.3s ease, box-shadow 0.3s ease;}

  .ai-trust-badge-item-{{ ai_gen_id }}:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }

  .ai-trust-badge-icon-{{ ai_gen_id }} {
    width: {{ block.settings.icon_size }}px;
    height: {{ block.settings.icon_size }}px;
    margin-bottom: 12px;
    color: {{ block.settings.icon_color }};
  }

  .ai-trust-badge-title-{{ ai_gen_id }} {
    font-size: {{ block.settings.title_size }}px;
    font-weight: 600;
    color: {{ block.settings.title_color }};
    margin: 0 0 8px 0;line-height: 1.3;
  }

  .ai-trust-badge-description-{{ ai_gen_id }} {
    font-size: {{ block.settings.description_size }}px;
    color: {{ block.settings.description_color }};
    margin: 0;
    line-height: 1.4;
  }

  .ai-trust-badges-nav-{{ ai_gen_id }} {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background-color: {{ block.settings.nav_background_color }};
    color: {{ block.settings.nav_icon_color }};
    border: none;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    z-index: 2;
    opacity: 0.8;
  }

  .ai-trust-badges-nav-{{ ai_gen_id }}:hover {
    opacity: 1;
    transform: translateY(-50%) scale(1.1);
  }

  .ai-trust-badges-nav-{{ ai_gen_id }}:disabled {
    opacity: 0.3;
    cursor: not-allowed;
  }

  .ai-trust-badges-nav-prev-{{ ai_gen_id }} {
    left: -20px;
  }

  .ai-trust-badges-nav-next-{{ ai_gen_id }} {
    right: -20px;
  }

  .ai-trust-badges-nav-{{ ai_gen_id }} svg {
    width: 20px;
    height: 20px;
  }

  @media screen and (min-width: 750px) {
    .ai-trust-badges-grid-{{ ai_gen_id }} {
      grid-template-columns: repeat({{ block.settings.columns_desktop }}, 1fr);
    }

    .ai-trust-badge-item-{{ ai_gen_id }} {
      padding: 24px;
    }

    {% unless block.settings.show_nav_desktop %}
      .ai-trust-badges-nav-{{ ai_gen_id }} {
        display: none;
      }
    {% endunless %}
  }

  @media screen and (max-width: 749px) {
    {% unless block.settings.show_nav_mobile %}
      .ai-trust-badges-nav-{{ ai_gen_id }} {
        display: none;
      }
    {% endunless %}
  }

  .ai-trust-badges-carousel-disabled-{{ ai_gen_id }} .ai-trust-badges-nav-{{ ai_gen_id }} {
    display: none;
  }

  .ai-trust-badges-carousel-disabled-{{ ai_gen_id }} .ai-trust-badges-wrapper-{{ ai_gen_id }} {
    overflow: visible;
  }
{% endstyle %}<trust-badges-{{ ai_gen_id }}
  class="ai-trust-badges-{{ ai_gen_id }}"
  data-carousel-mobile="{{ block.settings.enable_carousel_mobile }}"
  data-carousel-desktop="{{ block.settings.enable_carousel_desktop }}"
  {{ block.shopify_attributes }}
>
  <div class="ai-trust-badges-container-{{ ai_gen_id }}">
    <div class="ai-trust-badges-wrapper-{{ ai_gen_id }}">
      <div class="ai-trust-badges-grid-{{ ai_gen_id }}" role="region" aria-label="Trust badges"><div class="ai-trust-badge-item-{{ ai_gen_id }}">
          <div class="ai-trust-badge-icon-{{ ai_gen_id }}" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
              <circle cx="12" cy="16" r="1"/>
              <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
            </svg>
          </div>
          <h3 class="ai-trust-badge-title-{{ ai_gen_id }}">{{ block.settings.badge_1_title }}</h3>
          <p class="ai-trust-badge-description-{{ ai_gen_id }}">{{ block.settings.badge_1_description }}</p>
        </div><div class="ai-trust-badge-item-{{ ai_gen_id }}">
          <div class="ai-trust-badge-icon-{{ ai_gen_id }}" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M9 1v6"/>
            </svg>
          </div>
          <h3 class="ai-trust-badge-title-{{ ai_gen_id }}">{{ block.settings.badge_2_title }}</h3>
          <p class="ai-trust-badge-description-{{ ai_gen_id }}">{{ block.settings.badge_2_description }}</p>
        </div>

        <div class="ai-trust-badge-item-{{ ai_gen_id }}">
          <div class="ai-trust-badge-icon-{{ ai_gen_id }}" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"/>
              <path d="M8 14s1.5 2 4 2 4-2 4-2"/>
              <line x1="9" y1="9" x2="9.01" y2="9"/>
              <line x1="15" y1="9" x2="15.01" y2="9"/>
            </svg>
          </div>
          <h3 class="ai-trust-badge-title-{{ ai_gen_id }}">{{ block.settings.badge_3_title }}</h3>
          <p class="ai-trust-badge-description-{{ ai_gen_id }}">{{ block.settings.badge_3_description }}</p>
        </div>

        <div class="ai-trust-badge-item-{{ ai_gen_id }}">
          <div class="ai-trust-badge-icon-{{ ai_gen_id }}" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
            </svg>
          </div>
          <h3 class="ai-trust-badge-title-{{ ai_gen_id }}">{{ block.settings.badge_4_title }}</h3>
          <p class="ai-trust-badge-description-{{ ai_gen_id }}">{{ block.settings.badge_4_description }}</p>
        </div>
      </div>

      <button
        class="ai-trust-badges-nav-{{ ai_gen_id }} ai-trust-badges-nav-prev-{{ ai_gen_id }}"
        aria-label="Previous trust badges"
        type="button"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="15,18 9,12 15,6"/>
        </svg>
      </button>

      <button
        class="ai-trust-badges-nav-{{ ai_gen_id }} ai-trust-badges-nav-next-{{ ai_gen_id }}"
        aria-label="Next trust badges"
        type="button"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="9,18 15,12 9,6"/>
        </svg>
      </button>
    </div>
  </div>
</trust-badges-{{ ai_gen_id }}>

<script>
(function() {
  class TrustBadges{{ ai_gen_id }} extends HTMLElement {
    constructor() {
      super();
      this.currentSlide = 0;
      this.isCarouselEnabled = false;
    }

    connectedCallback() {
      this.grid = this.querySelector('.ai-trust-badges-grid-{{ ai_gen_id }}');
      this.wrapper = this.querySelector('.ai-trust-badges-wrapper-{{ ai_gen_id }}');
      this.prevButton = this.querySelector('.ai-trust-badges-nav-prev-{{ ai_gen_id }}');
      this.nextButton = this.querySelector('.ai-trust-badges-nav-next-{{ ai_gen_id }}');
      this.badges = this.querySelectorAll('.ai-trust-badge-item-{{ ai_gen_id }}');

      this.checkCarouselState();
      this.setupEventListeners();
      this.updateNavigation();

      window.addEventListener('resize', () => {
        this.checkCarouselState();this.updateSlidePosition();
        this.updateNavigation();
      });
    }

    checkCarouselState() {
      const isMobile = window.innerWidth < 750;
      const carouselMobile = this.dataset.carouselMobile === 'true';
      const carouselDesktop = this.dataset.carouselDesktop === 'true';

      this.isCarouselEnabled = isMobile ? carouselMobile : carouselDesktop;

      if (this.isCarouselEnabled) {
        this.classList.remove('ai-trust-badges-carousel-disabled-{{ ai_gen_id }}');this.setupCarousel();
      } else {
        this.classList.add('ai-trust-badges-carousel-disabled-{{ ai_gen_id }}');
        this.resetCarousel();
      }
    }

    setupCarousel() {
      const isMobile = window.innerWidth < 750;
      const columns = isMobile ? {{ block.settings.columns_mobile }} : {{ block.settings.columns_desktop }};
      this.slidesPerView = columns;
      this.totalSlides = Math.ceil(this.badges.length / this.slidesPerView);
      
      if (this.currentSlide >= this.totalSlides) {
        this.currentSlide = 0;
      }}

    resetCarousel() {
      this.currentSlide = 0;
      this.grid.style.transform ='translateX(0)';
    }

    setupEventListeners() {
      if (this.prevButton) {
        this.prevButton.addEventListener('click', () => this.previousSlide());
      }
      if (this.nextButton) {
        this.nextButton.addEventListener('click', () => this.nextSlide());
      }
    }

    previousSlide() {
      if (!this.isCarouselEnabled) return;
      
      if (this.currentSlide > 0) {
        this.currentSlide--;
      } else {
        this.currentSlide = this.totalSlides - 1;
      }
      this.updateSlidePosition();
      this.updateNavigation();
    }

    nextSlide() {
      if (!this.isCarouselEnabled) return;
      
      if (this.currentSlide < this.totalSlides - 1) {
        this.currentSlide++;
      } else {
        this.currentSlide = 0;
      }
      this.updateSlidePosition();
      this.updateNavigation();
    }

    updateSlidePosition() {
      if (!this.isCarouselEnabled) {
        this.grid.style.transform ='translateX(0)';
        return;
      }

      const translateX = -this.currentSlide * (100 / this.totalSlides);
      this.grid.style.transform = `translateX(${translateX}%)`;
    }

    updateNavigation() {
      if (!this.isCarouselEnabled || this.totalSlides <= 1) {
        if (this.prevButton) this.prevButton.style.display = 'none';
        if (this.nextButton) this.nextButton.style.display = 'none';
        return;
      }

      if (this.prevButton) {
        this.prevButton.style.display = 'flex';
        this.prevButton.disabled = false;
      }
      if (this.nextButton) {
        this.nextButton.style.display = 'flex';
        this.nextButton.disabled = false;
      }
    }
  }

  customElements.define('trust-badges-{{ ai_gen_id }}', TrustBadges{{ ai_gen_id }});
})();
</script>

{% schema %}
{
  "name": "Trust badges",
  "settings": [
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "checkbox",
      "id": "full_width",
      "label": "Full width",
      "default": false
    },
    {
      "type": "select",
      "id": "columns_mobile",
      "label": "Columns on mobile",
      "options": [
        {
          "value": "1",
          "label": "1"
        },
        {
          "value": "2",
          "label": "2"
        }
      ],
      "default": "2"
    },
    {
      "type": "select",
      "id": "columns_desktop",
      "label": "Columns on desktop",
      "options": [
        {
          "value": "1",
          "label": "1"
        },
        {
          "value": "2",
          "label": "2"
        },
        {
          "value": "3",
          "label": "3"
        },
        {
          "value": "4",
          "label": "4"
        }
      ],
      "default": "4"
    },
    {
      "type": "range",
      "id": "badge_spacing",
      "min": 10,
      "max": 50,
      "step": 2,
      "unit": "px",
      "label": "Badge spacing",
      "default": 20
    },
    {
      "type": "header",
      "content": "Carousel"
    },
    {
      "type": "checkbox",
      "id": "enable_carousel_mobile",
      "label": "Enable carousel on mobile",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "enable_carousel_desktop",
      "label": "Enable carousel on desktop",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "show_nav_mobile",
      "label": "Show navigation arrows on mobile",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_nav_desktop",
      "label": "Show navigation arrows on desktop",
      "default": true
    },
    {
      "type": "header",
      "content": "Section style"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Top padding",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Bottom padding",
      "default": 40
    },
    {
      "type": "range",
      "id": "section_height",
      "min": 200,
      "max": 600,
      "step": 20,
      "unit": "px",
      "label": "Minimum section height",
      "default": 300
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#f8f8f8"
    },
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background image"
    },
    {
      "type": "header",
      "content": "Badge style"
    },
    {
      "type": "color",
      "id": "badge_background_color",
      "label": "Badge background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "badge_border_color",
      "label": "Badge border color",
      "default": "#e6e6e6"
    },
    {
      "type": "range",
      "id": "badge_border_width",
      "min": 0,
      "max": 4,
      "step": 1,
      "unit": "px",
      "label": "Badge border width",
      "default": 1
    },
    {
      "type": "range",
      "id": "badge_border_radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Badge border radius",
      "default": 8
    },
    {
      "type": "header",
      "content": "Icon style"
    },
    {
      "type": "range",
      "id": "icon_size",
      "min": 24,
      "max": 80,
      "step": 4,
      "unit": "px",
      "label": "Icon size",
      "default": 48
    },
    {
      "type": "color",
      "id": "icon_color",
      "label": "Icon color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Text style"
    },
    {
      "type": "range",
      "id": "title_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Title size",
      "default": 16
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "description_size",
      "min": 10,
      "max": 18,
      "step": 1,
      "unit": "px",
      "label": "Description size",
      "default": 14
    },
    {
      "type": "color",
      "id": "description_color",
      "label": "Description color",
      "default": "#666666"
    },
    {
      "type": "header",
      "content": "Navigation style"
    },
    {
      "type": "color",
      "id": "nav_background_color",
      "label": "Navigation background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "nav_icon_color",
      "label": "Navigation icon color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Badge content"
    },
    {
      "type": "text",
      "id": "badge_1_title",
      "label": "Badge 1 title",
      "default": "Secure Checkout"
    },
    {
      "type": "text",
      "id": "badge_1_description",
      "label": "Badge 1 description",
      "default": "SSL encrypted secure payment"
    },
    {
      "type": "text",
      "id": "badge_2_title",
      "label": "Badge 2 title",
      "default": "Free Shipping"
    },
    {
      "type": "text",
      "id": "badge_2_description",
      "label": "Badge 2 description",
      "default": "Free shipping on orders over $50"
    },
    {
      "type": "text",
      "id": "badge_3_title",
      "label": "Badge 3 title",
      "default": "Money Back Guarantee"
    },
    {
      "type": "text",
      "id": "badge_3_description",
      "label": "Badge 3 description",
      "default": "30-day return policy"
    },
    {
      "type": "text",
      "id": "badge_4_title",
      "label": "Badge 4 title",
      "default": "Customer Support"
    },
    {
      "type": "text",
      "id": "badge_4_description",
      "label": "Badge 4 description",
      "default": "24/7 customer service"
    }
  ],
  "presets": [
    {
      "name": "Trust badges"
    }
  ]
}
{% endschema %}